<div class="flex -mx-4">
  <div class='w-2/5 flex-no-shrink mx-4'>
    <div class="bg-white rounded-lg shadow-lg p-4">
      <div class="flex justify-between -mx-2">
        {{#each categories as |category|}}
          <button {{action (mut selectedCategoryName) category.name}}
            class='w-1/3 mx-2 rounded py-2 focus:outline-none group focus:text-blue'
          >
            <p class='font-semibold {{if (eq selectedCategoryName category.name) 'text-blue'}}'>
              {{category.name}}
            </p>
            <div class="mt-4 w-full">
              <div class="aspect-ratio-square bg-grey-lighter shadow-inner">
                {{#animated-each
                  (if (not-eq selectedCategoryName category.name) category.images)
                  use=(action transition)
                as |image index|}}
                  <div
                    class='
                      pin absolute bg-cover rounded
                      {{if (eq index 0) 'z-20'}}
                      {{if (eq index 1) 'z-10 rotate-1 group-hover:rotate-0'}}
                      {{if (eq index 2) 'z-0 rotate-2 group-hover:rotate-0'}}
                    '
                    style={{html-safe (concat 'background-image: url(' image ')')}}>
                  </div>
                {{/animated-each}}
              </div>
            </div>
          </button>
        {{/each}}
      </div>

      <div class="w-4/5 mx-auto mt-4 pb-6">
        <AnimatedContainer>
          {{#animated-each selectedCategory.images use=transition2 as |image|}}
            <div class='aspect-ratio-square bg-cover mt-6 rounded-lg shadow-md'
              style={{html-safe (concat 'background-image: url(' image ')')}}></div>
          {{/animated-each}}
        </AnimatedContainer>
      </div>
    </div>
  </div>
  <div class='w-3/5 mx-4'>
    <div class='rounded-lg overflow-hidden'>
      <div class="bg-black py-2 px-4 text-white text-sm font-medium border-b border-grey-darkest">
        template.hbs
      </div>
      <div class='flex docs-bg-code-base text-grey overflow-x-scroll'>
        <div class="p-4">
          <pre>{{{highlightedTemplateSnippet}}}</pre>
        </div>
      </div>
    </div>

    <div class="mt-4">
      <div class='mt-4 rounded-lg overflow-hidden'>
        <div class="bg-black py-2 px-4 text-white text-sm font-medium border-b border-grey-darkest">
          component.js
        </div>
        <div class='flex docs-bg-code-base text-grey overflow-x-scroll'>
          <div class="p-4">
            <pre>{{{highlightedComponentSnippet}}}</pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
